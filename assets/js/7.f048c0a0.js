(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{186:function(e,t,s){"use strict";s.r(t);var a=s(0),i=Object(a.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("p",[e._v("（1）查询所有结果")]),e._v(" "),e._m(2),s("p",[e._v("（2）指定返回哪些键")]),e._v(" "),e._m(3),s("p",[e._v("（3）")]),e._v(" "),e._m(4),s("p",[e._v("条件")]),e._v(" "),e._m(5),s("p",[e._v("（4）")]),e._v(" "),e._m(6),s("p",[e._v("条件")]),e._v(" "),e._m(7),s("p",[e._v("（5）")]),e._v(" "),e._m(8),s("p",[e._v("条件")]),e._v(" "),e._m(9),s("p",[e._v("（6）比较条件")]),e._v(" "),e._m(10),s("p",[e._v("$gt(>)、")]),e._v(" "),e._m(11),s("p",[e._v("(>=)、")]),e._v(" "),e._m(12),s("p",[e._v("(<)、")]),e._v(" "),e._m(13),s("p",[e._v("(<=)")]),e._v(" "),e._m(14),s("p",[e._v("（7）")]),e._v(" "),e._m(15),s("p",[e._v("条件")]),e._v(" "),e._m(16),s("p",[e._v("（8）like")]),e._v(" "),e._m(17),s("p",[e._v("（9）count")]),e._v(" "),e._m(18),s("p",[e._v("（10）不等于")]),e._v(" "),e._m(19),s("p",[e._v("（11）排序")]),e._v(" "),s("p",[e._v("升序：")]),e._v(" "),e._m(20),s("p",[e._v("降序：")]),e._v(" "),e._m(21),s("p",[e._v("findOne()：除了只返回一个查询结果外，使用方法与")]),e._v(" "),e._m(22),s("p",[e._v("一样。")]),e._v(" "),e._m(23),e._v(" "),e._m(24),e._m(25),e._v(" "),s("p",[e._v("（1）update()")]),e._v(" "),s("p",[e._v("语法：")]),e._v(" "),e._m(26),e._m(27),e._v(" "),e._m(28),s("p",[e._v("：可选，这个参数的意思是，如果不存在update的记录，是否插入objNew,true为插入，默认是false，不插入。")]),e._v(" "),e._m(29),s("p",[e._v("：可选，mongodb 默认是false,只更新找到的第一条记录，如果这个参数为true,就把按条件查出来多条记录全部更新。")]),e._v(" "),e._m(30),s("p",[e._v("：可选，抛出异常的级别。")]),e._v(" "),s("p",[e._v("简单更新：")]),e._v(" "),e._m(31),s("p",[e._v("（2）save()")]),e._v(" "),e._m(32),s("p",[e._v("执行上面的语句，如果集合中已经存在一个_id为123的文档，则更新对应字段;否则插入。")]),e._v(" "),s("p",[e._v("注：如果更新对象不存在_id，系统会自动生成并作为新的文档插入。")]),e._v(" "),s("p",[e._v("（3）更新操作符")]),e._v(" "),s("p",[e._v("MongoDB提供一些强大的更新操作符。")]),e._v(" "),s("p",[e._v("更新特定字段（")]),e._v(" "),e._m(33),s("p",[e._v("）：")]),e._v(" "),e._m(34),s("p",[e._v("删除特定字段（")]),e._v(" "),e._m(35),s("p",[e._v("）：")]),e._v(" "),e._m(36),s("p",[e._v("注：")]),e._v(" "),e._m(37),s("p",[e._v("指定字段的值只需是任意合法值即可。")]),e._v(" "),s("p",[e._v("递增或递减（")]),e._v(" "),e._m(38),s("p",[e._v("）")]),e._v(" "),e._m(39),s("p",[e._v("注意：")]),e._v(" "),e._m(40),s("p",[e._v("对应的字段必须是数字，而且递增或递减的值也必须是数字。")]),e._v(" "),s("p",[e._v("数组追加（")]),e._v(" "),e._m(41),s("p",[e._v("）：")]),e._v(" "),e._m(42),s("p",[e._v("还可以一次追加多个元素：")]),e._v(" "),e._m(43),s("p",[e._v("注：追加字段必须是数组。如果数组字段不存在，则自动新增，然后追加。")]),e._v(" "),s("p",[e._v("一次追加多个元素（")]),e._v(" "),e._m(44),s("p",[e._v("）：")]),e._v(" "),e._m(45),s("p",[e._v("追加不重复元素（")]),e._v(" "),e._m(46),s("p",[e._v("）： $addToSet类似集合Set，只有当这个值不在元素内时才增加：")]),e._v(" "),e._m(47),s("p",[e._v("删除元素（")]),e._v(" "),e._m(48),s("p",[e._v("）：")]),e._v(" "),e._m(49),s("p",[e._v("注：")]),e._v(" "),e._m(50),s("p",[e._v("每次只能删除数组中的一个元素，")]),e._v(" "),e._m(51),s("p",[e._v("表示删除最后一个，")]),e._v(" "),e._m(52),s("p",[e._v("表示删除第一个。")]),e._v(" "),s("p",[e._v("删除特定元素（")]),e._v(" "),e._m(53),s("p",[e._v("）：")]),e._v(" "),e._m(54),s("p",[e._v("上面的语句表示删除数组score内值等于123的元素。")]),e._v(" "),s("p",[e._v("删除多个特定元素（")]),e._v(" "),e._m(55),s("p",[e._v("）：")]),e._v(" "),e._m(56),s("p",[e._v("上面的语句表示删除数组内值等于123或12的元素。")]),e._v(" "),s("p",[e._v("更新嵌套数组的值：")]),e._v(" "),s("p",[e._v("使用数组下标（从")]),e._v(" "),e._m(57),s("p",[e._v("开始）：")]),e._v(" "),e._m(58),s("p",[e._v("如果你不知道要更新数组哪项，我们可以使用")]),e._v(" "),e._m(59),s("p",[e._v("操作符（")]),e._v(" "),e._m(60),s("p",[e._v("表示自身，也就是按查询条件找出的数组里面的项自身，而且只会应用找到的第一条数组项）：")]),e._v(" "),e._m(61),s("p",[e._v("在上面的语句中，")]),e._v(" "),e._m(62),s("p",[e._v('就是查询条件{"address.place": "nanji"}的查询结果，也就是{place: "nanji", tel: 123}，所以{"address.$.tel": 123}也就是{"address.{place: "nanji", tel: 123}.tel": 123}')]),e._v(" "),e._m(63),e._v(" "),s("p",[e._v("删除所有文档：")]),e._v(" "),e._m(64),s("p",[e._v("删除指定文档：")]),e._v(" "),e._m(65),e._m(66),e._v(" "),e._m(67),e._v(" "),s("p",[e._v("（1）数组的普通查询")]),e._v(" "),s("p",[e._v('假如type是["mongodb", "javascript"]：')]),e._v(" "),e._m(68),s("p",[e._v("上面的语句可以匹配成功。")]),e._v(" "),s("p",[e._v("（2）多个元素的查询")]),e._v(" "),e._m(69),s("p",[e._v("只有type数组同时存在mongodb和javascript才会匹配。")]),e._v(" "),s("p",[e._v("（3）限制数组长度查询")]),e._v(" "),e._m(70),s("p",[e._v("只有数组的长度是2才会匹配")]),e._v(" "),s("p",[e._v("注：type必须是数组")]),e._v(" "),s("p",[e._v("（4）返回特定数量")]),e._v(" "),e._m(71),e._v(" "),e._m(72),e._m(73),e._v(" "),s("p",[e._v("（5）元素匹配")]),e._v(" "),e._m(74),e._v(" "),e._m(75),s("p",[e._v("只有a=1且b>2才会匹配。")]),e._v(" "),e._m(76),e._v(" "),s("p",[e._v("比如我们要匹配 read % 5 == 1：")]),e._v(" "),e._m(77),e._m(78),e._v(" "),s("p",[e._v("如果我们要判断love字段是否存在，可以这样：")]),e._v(" "),e._m(79),s("p",[e._v("我们也可以判断不存在：")]),e._v(" "),e._m(80),e._m(81),e._v(" "),s("p",[e._v("mongodb支持正则表达式，使用方法与正则字面量一样：")]),e._v(" "),e._m(82),e._m(83),e._v(" "),s("p",[e._v("我们可以根据字段类型来返回数据：")]),e._v(" "),e._m(84),s("p",[e._v("只有当comments的类型是数组才匹配")]),e._v(" "),s("p",[e._v("注：更多类型的数值可以参考这里："),s("a",{attrs:{href:"https://link.juejin.im/?target=https%3A%2F%2Fdocs.mongodb.com%2Fmanual%2Freference%2Foperator%2Fquery%2Ftype%2F",target:"_blank",rel:"noopener noreferrer"}},[e._v("mongodb $type"),s("OutboundLink")],1)]),e._v(" "),e._m(85),e._v(" "),s("p",[e._v("mongodb是允许内嵌文档的，而且要查询内嵌文档也很简单（使用点语法）：")]),e._v(" "),e._m(86),s("p",[e._v("上面的语句是查询comments中的author。")]),e._v(" "),s("p",[e._v("数组也可以采取点语法:")]),e._v(" "),e._m(87),e._m(88),e._v(" "),s("p",[e._v("$not是元语句，即可以用在任何其他条件之上：")]),e._v(" "),e._m(89),e._m(90),e._v(" "),e._m(91),e._v(" "),e._m(92),e._v(" "),e._m(93),s("p",[e._v("返回10条数据")]),e._v(" "),e._m(94),e._v(" "),e._m(95),s("p",[e._v("略过前5条数据，也就是从第6条开始返回。")]),e._v(" "),e._m(96),e._v(" "),e._m(97),e._m(98),e._v(" "),s("p",[e._v("返回匹配数据的长度：")]),e._v(" "),e._m(99),e._m(100),e._v(" "),s("p",[e._v("pretty()方法可以以格式化的方式显示所有文档：")]),e._v(" "),e._m(101),e._m(102),e._v(" "),s("p",[e._v("当你要删除一个集合中的所有文档时，直接删除一个集合效率会更高：")]),e._v(" "),e._m(103)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"mongodb-常用语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-常用语句","aria-hidden":"true"}},[this._v("#")]),this._v(" MongoDB 常用语句")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"_1、查询-find"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、查询-find","aria-hidden":"true"}},[this._v("#")]),this._v(" 1、查询(find)")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("select * from articledb.article.find()\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select title, author from articledb.article.find({}, {"title": 1, "author": 1})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("where\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select * from article where title = "mongodb"db.article.find({"title": "mongodb"})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("and\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select * from article where title = "mongodb" and author = "god"db.article.find({"title": "mongodb", "author": "god"})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("or\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select * from article where title = "mongodb" or author = "god"db.article.find({"$or": [{"title": "mongodb"}, {"author": "god"}]})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select * from article where read >= 100;db.article.find({"read": {"$gt": 100}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$gte\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$lt\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$lte\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select * from article where read >= 100 and read <= 200db.article.find({"read": {"$gte": 100, "lte": 200}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("in\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select * from article where author in ("a", "b", "c")db.article.find({"author": {"$in": ["a", "b", "c"]}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select * from article where title like "%mongodb%"db.article.find({"title": /mongodb/})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("select count(*) from articledb.article.count()\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select * from article where author != "a"db.article.find({ "author": { "$ne": "a" }})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select * from article where type = "mongodb" order by read descdb.article.find({"type": "mongodb"}).sort({"read": -1})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('select * from article where type = "mongodb" order by read asc\ndb.article.find({"type": "mongodb"}).sort({"read": 1})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("find()\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"_2、创建（insert）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、创建（insert）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2、创建（insert）")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('insert into article(title, author, content) values("mongodb", "tg", "haha")db.article.insert({"title": "mongodb", "author": "tg", "content": "haha"})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"_3、更新（update）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、更新（update）","aria-hidden":"true"}},[this._v("#")]),this._v(" 3、更新（update）")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("db.collecion.update(query, update[, options] )\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("code",[e._v("query")]),e._v(" : 必选，查询条件，类似find中的查询条件。")]),e._v(" "),s("li",[s("code",[e._v("update")]),e._v(" : 必选，update的对象和一些更新的操作符（如$,$inc...）等")]),e._v(" "),s("li",[s("code",[e._v("options")]),e._v("：可选，一些更新配置的对象。")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("upsert\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("multi\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("writeConcern\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('update article set title = "mongodb" where read > 100db.article.update({"read": {"$gt": 100}}, {"$set": { "title": "mongodb"}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.save({_id: 123, title: "mongodb"})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$set\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('update game set count = 10000 where _id = 123db.game.update({"_id": 123}, { "$set": {"count": 10000}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$unset\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.game.update({"_id":123}, {"$unset": {"author":1}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$unset\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$inc\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.game.update({"_id": 123}, { "$inc": {"count": 10}}) // 每次count都加10\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$inc\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$push\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.game.update({"_id": 123}, { "$push": {"score": 123}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.game.update({"_id": 123}, {"$push": {"score": [12,123]}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$pushAll\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.game.update({"_id": 123}, {"$pushAll": {"score": [12,123]}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$addToSet\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.game.update({"_id": 123}, {"$addToSet": {"score": 123}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$pop\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.game.update({"_id": 123}, {"$pop": {"score": 1}})  // 删除最后一个元素db.game.update({"_id": 123}, {"$pop": {"score": -1}})  // 删除第一个元素\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$pop\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("1\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("-1\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$pull\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.game.update({"_id": 123}, {"$pull": {"score": 123}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$pullAll\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.game.update({"_id": 123}, {"$pullAll": {score: [123,12]}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("0\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{  address: [{place: "nanji", tel: 123}, {place: "dongbei", tel: 321}]}db.game.update({"_id": 123}, {"$set": {"address.0.tel": 213}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.game.update({"address.place": "nanji"}, {"$set": {"address.$.tel": 123}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"_4、删除（remove）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、删除（remove）","aria-hidden":"true"}},[this._v("#")]),this._v(" 4、删除（remove）")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("delete from articledb.article.remove()\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('delete from article where title = "mongodb"db.article.remove({title: "mongodb"})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("MongoDB特有的语句")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("1. 数组查询")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.find({"type": "mongodb"})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.find({"type": {"$all": ["mongodb", "javascript"]}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.find({"type": {"$size": 2}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("当"),t("code",[this._v("$slice")]),this._v("的参数是一个时，表示返回的数量;当是一个数组时，第一个参数表示偏移量，第二个表示返回的数量：")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.find({"type": {"$slice": 1}}) // 返回第1个db.article.find({"type": {"$slice": -1}})  // 返回最后一个db.article.find({"type": {"$slice": [20, 10]}})  // 从第21个开始，返回10个，也就是21～30\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("注："),t("code",[this._v("$slice")]),this._v("针对的是数组")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("如果文档中有一个字段的值是数组，可以使用"),t("code",[this._v("$elemMatch")]),this._v("来匹配数组内的元素：")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{  kown: [{ a: 2, b: 4}, 10, { a: 4}, {b:10}]}db.article.find({"kown": { "$elemMatch": {a: 1, b: {"$gt": 2}}}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("2. 取模（$mod）")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.find({"read": {$mod: [5, 1]}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("3. 是否存在（$exists)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.find({"love": {"$exists": true}})  // 如果存在字段love，就返回\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.find({"love": {"$exists": false}}) // 如果不存在字段love，就返回\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("4. 正则表达式")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.find({"title": /mongodb/i})  // i是忽略大小写\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("5. 类型查询")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.find({"comments": {"$type": 4}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("6. 内嵌文档")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{  address: { name: "nanji" }}db.article.find({"address.name": "nanji"})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{  comments: [{title: "mongodb"}, {title: "javascript"}]}db.article.find({"comments.title": "mongodb"})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("7. 取反")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('db.article.find({"author": {"$not": /mongodb/i}})\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("只要使用"),t("code",[this._v("$not")]),this._v("操作符，就表示取反。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("MongoDB常用方法")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("1. 控制返回数量（limit）")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("db.article.find().limit(10)\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("2. 略过数量")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("db.article.find().skip(5)\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("可以结合"),t("code",[this._v("limit()")]),this._v("和"),t("code",[this._v("skip()")]),this._v("来达到分页效果：")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("select * from article limit 10, 20db.article.find().skip(10).limit(20) \n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("3. 统计")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("db.article.find().count()\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("4. 格式化")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("db.article.find().pretty()\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("5. 删除集合")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("db.article.drop()\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])}],!1,null,null,null);t.default=i.exports}}]);